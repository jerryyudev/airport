from math import radians, sin, cos, sqrt, atan2

# 定义城市列表
CITY_LIST = ["New York", "London", "Tokyo", "Beijing", "Paris"]

# 城市位置坐标
CITY_COORDS = {
    
    "阿富汗": (34.5553, 69.2075),
    "阿尔巴尼亚": (41.3275, 19.8187),
    "阿尔及利亚": (28.0339, 1.6596),
    "安道尔": (42.5063, 1.5218),
    "安哥拉": (-11.2027, 17.8739),
    "安圭拉": (18.2206, -63.0686),
    "安提瓜和巴布达": (17.0608, -61.7964),
    "阿根廷": (-38.4161, -63.6167),
    "亚美尼亚": (40.0691, 45.0382),
    "阿鲁巴": (12.5211, -69.9683),
    "澳大利亚": (-25.2744, 133.7751),
    "奥地利": (47.5162, 14.5501),
    "阿塞拜疆": (40.1431, 47.5769),
    "巴哈马": (25.0343, -77.3963),
    "巴林": (26.0667, 50.5577),
    "孟加拉国": (23.685, 90.3563),
    "巴巴多斯": (13.1939, -59.5432),
    "白俄罗斯": (53.7098, 27.9534),
    "比利时": (50.8503, 4.3517),
    "伯利兹": (17.1899, -88.4976),
    "贝宁": (9.3077, 2.3158),
    "百慕大": (32.3078, -64.7505),
    "不丹": (27.5142, 90.4336),
    "玻利维亚": (-16.2902, -63.5887),
    "波斯尼亚和黑塞哥维那": (43.9159, 17.6791),
    "博茨瓦纳": (-22.3285, 24.6849),
    "巴西": (-14.235, -51.9253),
    "英属维尔京群岛": (18.4207, -64.64),
    "文莱": (4.5353, 114.7277),
    "保加利亚": (42.7339, 25.4858),
    "布基纳法索": (12.2383, -1.5616),
    "布隆迪": (-3.3731, 29.9189),
    "柬埔寨": (12.5657, 104.991),
    "喀麦隆": (3.848, 11.5021),
    "加拿大": (56.1304, -106.3468),
    "佛得角": (16.5388, -23.0418),
    "加勒比荷兰": (12.1696, -68.99),
    "开曼群岛": (19.3133, -81.2546),
    "中非共和国": (6.6111, 20.9394),
    "乍得": (15.4542, 18.7322),
    "智利": (-35.6751, -71.543),
    "中国": (35.8617, 104.1954),
    "圣诞岛": (-10.4475, 105.6904),
    "科科斯群岛": (-12.1642, 96.8706),
    "哥伦比亚": (4.5709, -74.2973),
    "科摩罗": (-11.6455, 43.3333),
    "刚果共和国": (0.228, 15.8277),
    "刚果民主共和国": (-4.0383, 21.7587),
    "库克群岛": (-21.2367, -159.7777),
    "哥斯达黎加": (9.7489, -83.7534),
    "科特迪瓦": (7.54, -5.5471),
    "克罗地亚": (45.1, 15.2),
    "古巴": (21.5218, -77.7812),
    "塞浦路斯": (35.1264, 33.4299),
    "捷克共和国": (49.8175, 15.4729),
    "丹麦": (56.2639, 9.5018),
    "吉布提": (11.8251, 42.5903),
    "多米尼克": (15.415, -61.371),
    "多米尼加共和国": (18.7357, -70.1627),
    "厄瓜多尔": (-1.8312, -78.1834),
    "埃及": (26.8206, 30.8025),
    "萨尔瓦多": (13.7942, -88.8965),
    "赤道几内亚": (1.6508, 10.2679),
    "厄立特里亚": (15.1794, 39.7823),
    "爱沙尼亚": (58.5953, 25.0136),
    "埃塞俄比亚": (9.145, 40.4897),
    "福克兰群岛": (-51.7963, -59.5236),
    "法罗群岛": (61.8926, -6.9118),
    "斐济": (-17.7134, 178.065),
    "芬兰": (61.9241, 25.7482),
    "法国": (46.6034, 1.8883),
    "法属圭亚那": (3.9339, -53.1258),
    "法属波利尼西亚": (-17.6797, -149.4068),
    "加蓬": (-0.8037, 11.6094),
    "冈比亚": (13.4432, -15.3101),
    "格鲁吉亚": (42.3154, 43.3569),
    "德国": (51.1657, 10.4515),
    "加纳": (7.9465, -1.0232),
    "直布罗陀": (36.1408, -5.3536),
    "希腊": (39.0742, 21.8243),
    "格陵兰": (71.7069, -42.6043),
    "格林纳达": (12.1165, -61.679),
    "瓜德罗普": (16.265, -61.551),
    "关岛": (13.4443, 144.7937),
    "危地马拉": (15.7835, -90.2308),
    "根西岛": (49.4659, -2.5853),
    "几内亚": (9.9456, -9.6966),
    "几内亚比绍": (11.8037, -15.1804),
    "圭亚那": (4.8604, -58.9302),
    "海地": (18.9712, -72.2852),
    "洪都拉斯": (15.2, -86.2419),
    "香港": (22.3193, 114.1694),
    "匈牙利": (47.1625, 19.5033),
    "冰岛": (64.9631, -19.0208),
    "印度": (20.5937, 78.9629),
    "印度尼西亚": (-0.7893, 113.9213),
    "伊朗": (32.4279, 53.688),
    "伊拉克": (33.2232, 43.6793),
    "爱尔兰": (53.1424, -7.6921),
    "马恩岛": (54.2361, -4.5481),
    "以色列": (31.0461, 34.8516),
    "意大利": (41.8719, 12.5674),
    "牙买加": (18.1096, -77.2975),
    "日本": (36.2048, 138.2529),
    "泽西岛": (49.2144, -2.1313),
    "约旦": (30.5852, 36.2384),
    "哈萨克斯坦": (48.0196, 66.9237),
    "肯尼亚": (-0.0236, 37.9062),
    "基里巴斯": (-3.3704, -168.734),
    "科威特": (29.3759, 47.9774),
    "吉尔吉斯斯坦": (41.2044, 74.7661),
    "老挝": (19.8563, 102.4955),
    "拉脱维亚": (56.8796, 24.6032),
    "黎巴嫩": (33.8547, 35.8623),
    "莱索托": (-29.61, 28.2336),
    "利比里亚": (6.4281, -9.4295),
    "利比亚": (26.3351, 17.2283),
    "列支敦士登": (47.166, 9.5554),
    "立陶宛": (55.1694, 23.8813),
    "卢森堡": (49.8153, 6.1296),
    "澳门": (22.1987, 113.5439),
    "马其顿": (41.6086, 21.7453),
    "马达加斯加": (-18.7669, 46.8691),
    "马拉维": (-13.2543, 34.3015),
    "马来西亚": (4.2105, 101.9758),
    "马尔代夫": (3.2028, 73.2207),
    "马里": (17.5707, -3.9962),
    "马耳他": (35.9375, 14.3754),
    "马绍尔群岛": (7.1315, 171.1845),
    "马提尼克": (14.6415, -61.0242),
    "毛里塔尼亚": (21.0079, -10.9408),
    "毛里求斯": (-20.3484, 57.5522),
    "马约特": (-12.8275, 45.1662),
    "墨西哥": (23.6345, -102.5528),
    "密克罗尼西亚": (7.4256, 150.5508),
    "摩尔多瓦": (47.4116, 28.3699),
    "摩纳哥": (43.7384, 7.4246),
    "蒙古": (46.8625, 103.8467),
    "黑山": (42.7087, 19.3744),
    "蒙特塞拉特": (16.7425, -62.1874),
    "摩洛哥": (31.7917, -7.0926),
    "莫桑比克": (-18.6657, 35.5296),
    "缅甸": (21.9162, 95.956),
    "纳米比亚": (-22.9576, 18.4904),
    "瑙鲁": (-0.5228, 166.9315),
    "尼泊尔": (28.3949, 84.124),
    "荷兰": (52.1326, 5.2913),
    "荷属安的列斯群岛": (12.2261, -69.0608),
    "新喀里多尼亚": (-20.9043, 165.618),
    "新西兰": (-40.9006, 174.886),
    "尼加拉瓜": (12.8654, -85.2072),
    "尼日尔": (17.6078, 8.0817),
    "尼日利亚": (9.082, 8.6753),
    "纽埃": (-19.0544, -169.8672),
    "诺福克岛": (-29.0408, 167.9547),
    "北马里亚纳群岛": (17.3308, 145.3847),
    "挪威": (60.472, 8.4689),
    "阿曼": (21.4735, 55.9754),
    "巴基斯坦": (30.3753, 69.3451),
    "帕劳": (7.515, 134.5825),
    "巴勒斯坦": (31.9522, 35.2332),
    "巴拿马": (8.5379, -80.7821),
    "巴布亚新几内亚": (-6.3148, 143.9555),
    "巴拉圭": (-23.4425, -58.4438),
    "秘鲁": (-9.19, -75.0152),
    "菲律宾": (12.8797, 121.774),
    "皮特凯恩群岛": (-24.379, -128.3242),
    "波兰": (51.9194, 19.1451),
    "葡萄牙": (39.3999, -8.2245),
    "波多黎各": (18.2208, -66.5901),
    "卡塔尔": (25.3548, 51.1839),
    "留尼汪": (-21.1151, 55.5364),
    "罗马尼亚": (45.9432, 24.9668),
    "俄罗斯": (61.524, 105.3188),
    "卢旺达": (-1.9403, 29.8739),
    "圣巴泰勒米": (17.9, -62.8333),
    "圣赫勒拿": (-24.1435, -10.0307),
    "圣基茨和尼维斯": (17.3578, -62.783),
    "圣卢西亚": (13.9094, -60.9789),
    "圣马丁": (18.0708, -63.0501),
    "圣皮埃尔和密克隆": (46.9419, -56.2711),
    "圣文森特和格林纳丁斯": (13.8136, -60.973),
    "萨摩亚": (-13.759, -172.1046),
    "圣马力诺": (43.9424, 12.4578),
    "圣多美和普林西比": (0.1864, 6.6131),
    "沙特阿拉伯": (23.8859, 45.0792),
    "塞内加尔": (14.4974, -14.4524),
    "塞尔维亚": (44.0165, 21.0059),
    "塞舌尔": (-4.6796, 55.4919),
    "塞拉利昂": (8.4606, -11.7799),
    "新加坡": (1.3521, 103.8198),
    "斯洛伐克": (48.669, 19.699),
    "斯洛文尼亚": (46.1512, 14.9955),
    "所罗门群岛": (-9.6457, 160.1562),
    "索马里": (5.1521, 46.1996),
    "南非": (-30.5595, 22.9375),
    "南乔治亚岛和南桑威奇群岛": (-54.4296, -36.5879),
    "韩国": (35.9078, 127.7669),
    "南苏丹": (6.877, 31.307),
    "西班牙": (40.4637, -3.7492),
    "斯里兰卡": (7.8731, 80.7718),
    "苏丹": (12.8628, 30.2176),
    "苏里南": (3.9193, -56.0278),
    "斯瓦尔巴群岛和扬马延岛": (77.5536, 23.6703),
    "斯威士兰": (-26.5225, 31.4659),
    "瑞典": (60.1282, 18.6435),
    "瑞士": (46.8182, 8.2275),
    "叙利亚": (34.8021, 38.9968),
    "台湾": (23.6978, 120.9605),
    "塔吉克斯坦": (38.861, 71.2761),
    "坦桑尼亚": (-6.369, 34.8888),
    "泰国": (15.870032, 100.992541),
    "东帝汶": (-8.8742, 125.7275),
    "多哥": (8.6195, 0.8248),
    "托克劳": (-9.2002, -171.8484),
    "汤加": (-21.1789, -175.1982),
    "特立尼达和多巴哥": (10.6918, -61.2225),
    "突尼斯": (33.8869, 9.5375),
    "土耳其": (38.9637, 35.2433),
    "土库曼斯坦": (38.9697, 59.5563),
    "特克斯和凯科斯群岛": (21.694, -71.7979),
    "图瓦卢": (-7.1095, 177.6493),
    "乌干达": (1.3733, 32.2903),
    "乌克兰": (48.3794, 31.1656),
    "阿拉伯联合酋长国": (23.4241, 53.8478),
    "英国": (55.3781, -3.436),
    "美国": (37.0902, -95.7129),
    "美属维尔京群岛": (18.3358, -64.8963),
    "乌拉圭": (-32.5228, -55.7658),
    "乌兹别克斯坦": (41.3775, 64.5853),
    "瓦努阿图": (-15.3767, 166.9592),
    "梵蒂冈": (41.9029, 12.4534),
    "委内瑞拉": (6.4238, -66.5897),
    "越南": (14.0583, 108.2772),
    "瓦利斯和富图纳": (-13.7681, -177.1561),
    "西撒哈拉": (24.2155, -12.8858),
    "也门": (15.5527, 48.5164),
    "赞比亚": (-13.1339, 27.8493),
    "津巴布韦": (-19.0154, 29.1549),
    "安道尔": (42.5063, 1.5218),
    "捷克": (49.8175, 15.4729),
    "斯洛伐克": (48.669, 19.699),
    "波黑": (43.9159, 17.6791),
    "塞尔维亚": (44.0165, 21.0059),
    "黑山": (42.7087, 19.3744),
    "马其顿": (41.6086, 21.7453),
    "科索沃": (42.6026, 20.9029),
    "文莱": (4.5353, 114.7277),
    "留尼汪": (-21.1151, 55.5364),
    "马尔代夫": (3.2028, 73.2207),
    "加勒比荷兰": (12.1696, -68.99),
    "南苏丹": (6.877, 31.307),
    "蒙特塞拉特": (16.7425, -62.1874),
    "库克群岛": (-21.2367, -159.7777),
    "图瓦卢": (-7.1095, 177.6493),
    "法罗群岛": (61.8926, -6.9118),
    "英属维尔京群岛": (18.4207, -64.64),
    "北马里亚纳群岛": (17.3308, 145.3847),
    "康沃尔": (50.266, -5.0527),
    "苏格兰": (56.4907, -4.2026),
    "威尔士": (52.1307, -3.7837),
    "诺福克岛": (-29.0408, 167.9547),
    "岛屿": (37.0902, -95.7129)



}

# 计算两点之间的距离（单位：千米）
def calculate_distance(lat1, lon1, lat2, lon2):
    # 将经纬度转换为弧度
    lat1 = radians(lat1)
    lon1 = radians(lon1)
    lat2 = radians(lat2)
    lon2 = radians(lon2)

    # 使用球面余弦定理计算距离
    dlon = lon2 - lon1
    dlat = lat2 - lat1
    a = sin(dlat / 2) ** 2 + cos(lat1) * cos(lat2) * sin(dlon / 2) ** 2
    c = 2 * atan2(sqrt(a), sqrt(1 - a))
    distance = 6371 * c  # 地球半径为 6371 公里

    return distance

# 获取用户输入的经纬度
def get_user_coordinates():
    lat = float(input("请输入纬度："))
    lon = float(input("请输入经度："))
    return lat, lon

# 主函数
def main():
    print("请选择查询方式：")
    print("1. 输入国家名称")
    print("2. 输入经纬度")
    
    choice = input("请选择：")
    if choice == '1':
        # 获取用户输入的城市
        selected_city = input("请输入一个城市名称：")
        # 输出城市坐标
        print(f"{selected_city} 的坐标为: {CITY_COORDS.get(selected_city, '未知')}")
    elif choice == '2':
        # 获取用户输入的经纬度
        user_lat, user_lon = get_user_coordinates()
        # 计算距离最近的城市
        closest_city = None
        min_distance = float('inf')  # 初始化为正无穷大
        for city, coords in CITY_COORDS.items():
            city_lat, city_lon = coords
            distance = calculate_distance(user_lat, user_lon, city_lat, city_lon)
            if distance < min_distance:
                min_distance = distance
                closest_city = city
        # 输出结果
        if min_distance <= 1000:
            print(f"距离最近的城市是 {closest_city}, 距离为 {min_distance:.2f} 公里")
        else:
            print("不在城市区域")
    else:
        print("无效选择")

if __name__ == "__main__":
    main()
